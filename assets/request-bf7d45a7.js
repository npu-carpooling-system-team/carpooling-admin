import{N as n,K as g,E as a,__tla as p}from"./.pnpm-9347ecb9.js";let o,l,s,c,i,d,h=Promise.all([(()=>{try{return p}catch{}})()]).then(async()=>{n.configure({easing:"ease",speed:1e3,showSpinner:!1,trickleSpeed:200,minimum:.3,parent:"body"});const u=()=>{n.start()},m=()=>{n.done()},t=g.create({baseURL:"https://carpooling-server.wangminan.me"});t.interceptors.request.use(e=>(u(),window.localStorage.getItem("token")!==void 0&&(e.headers.Authorization="Bearer "+window.localStorage.getItem("token")),e),e=>Promise.reject(e)),t.interceptors.response.use(e=>(m(),e!==null&&e.data!==null&&e.data.code!==null&&(e.data.code===4012||e.data.code===4010||e.data.code===4030)&&(window.localStorage.removeItem("token"),a.error("\u767B\u5F55\u8FC7\u671F\uFF0C\u5C06\u8DF3\u8F6C\u81F3\u767B\u5F55\u9875"),setTimeout(()=>{window.location.href="/login"},3e3)),e),e=>Promise.reject(e)),d=async e=>{try{const{data:r}=await t.post("/api/auth/login/password",e);return r.code!==null&&r.code===2e3?r:r.code!==null?(a.error(`\u767B\u5F55\u5931\u8D25, ${r.msg}`),null):(a.error("\u767B\u5F55\u5931\u8D25"),null)}catch(r){a.error(`\u767B\u5F55\u5931\u8D25, ${r.message}`)}return null},o=async()=>{try{const{data:e}=await t.post("/api/auth/loginuser/logout");return e.code!==null&&e.code===2e3?e:e.code!==null?(a.error(`\u9000\u51FA\u5931\u8D25, ${e.msg}`),null):(a.error("\u9000\u51FA\u5931\u8D25"),null)}catch(e){a.error(`\u9000\u51FA\u5931\u8D25, ${e.message}`)}return null},l=async()=>{try{const{data:e}=await t.get("/api/auth/admin/count");return e.code!==null&&e.code===2e3?e:e.code!==null?(a.error(`\u83B7\u53D6\u767B\u5F55\u7EDF\u8BA1\u4FE1\u606F\u5931\u8D25, ${e.msg}`),null):(a.error("\u83B7\u53D6\u767B\u5F55\u7EDF\u8BA1\u4FE1\u606F\u5931\u8D25"),null)}catch(e){a.error(`\u83B7\u53D6\u767B\u5F55\u7EDF\u8BA1\u4FE1\u606F, ${e.message}`)}return null},s=async()=>{try{const{data:e}=await t.get("/api/user/admin/driver/list");return e.code!==null&&e.code===2e3?e:e.code!==null?(a.error(`\u83B7\u53D6\u9A71\u52A8\u5217\u8868\u5931\u8D25, ${e.msg}`),null):(a.error("\u83B7\u53D6\u9A71\u52A8\u5217\u8868\u5931\u8D25"),null)}catch(e){a.error(`\u83B7\u53D6\u9A71\u52A8\u5217\u8868\u5931\u8D25, ${e.message}`)}return null},i=async e=>{try{const{data:r}=await t.get("/api/order/admin/carpooling/list",{params:{beginTime:e.beginTime,endTime:e.endTime,driverId:e.driverId}});return r.code!==null&&r.code===2e3?r:r.code!==null?(a.error(`\u83B7\u53D6\u603B\u5217\u8868\u5931\u8D25, ${r.msg}`),null):(a.error("\u83B7\u53D6\u603B\u5217\u8868\u5931\u8D25"),null)}catch(r){a.error(`\u83B7\u53D6\u603B\u5217\u8868\u5931\u8D25, ${r.message}`)}return null},c=async e=>{try{const{data:r}=await t.get("/api/order/admin/prize/list",{params:{beginTime:e.beginTime,endTime:e.endTime}});return r.code!==null&&r.code===2e3?r:r.code!==null?(a.error(`\u83B7\u53D6\u597D\u8BC4\u5217\u8868\u5931\u8D25, ${r.msg}`),null):(a.error("\u83B7\u53D6\u597D\u8BC4\u5217\u8868\u5931\u8D25"),null)}catch(r){a.error(`\u83B7\u53D6\u597D\u8BC4\u5217\u8868\u5931\u8D25, ${r.message}`)}return null}});export{h as __tla,o as a,l as b,s as c,c as d,i as g,d as h};
